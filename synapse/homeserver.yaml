# Synapse configuration for local MindRoom stack
server_name: "matrix.localhost"
public_baseurl: "http://matrix.localhost:8008/"

listeners:
  - port: 8008
    tls: false
    type: http
    bind_addresses: ['0.0.0.0']
    resources:
      - names: [client, federation]

# Database

database:
  name: psycopg2
  args:
    user: synapse
    password: synapse_password
    database: synapse
    host: postgres
    port: 5432

# Redis for caching
redis:
  enabled: true
  host: redis
  port: 6379

# Storage
media_store_path: "/data/media_store"
signing_key_path: "/data/signing.key"

# Logging
log_config: "/data/log.config"

# Registration - open for development
enable_registration: true
enable_registration_without_verification: true

# Security (change for production)
macaroon_secret_key: "mindroom_dev_secret_change_in_production"
form_secret: "mindroom_form_secret_change_in_production"

report_stats: false
enable_metrics: false
